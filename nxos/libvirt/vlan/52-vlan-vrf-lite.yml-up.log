Bringing machine 'r1' up with 'libvirt' provider...
Bringing machine 'r3' up with 'libvirt' provider...
[fog][WARNING] Unrecognized arguments: libvirt_ip_command
==> r1: No version detected for cisco/nexus9300v, using timestamp to watch for modifications. Consider
==> r1: generating a local metadata for the box with a version to allow better handling.
==> r1: See https://www.vagrantup.com/docs/boxes/format#box-metadata for further details.
==> r1: Creating image (snapshot of base box volume).
==> r1: Creating domain with the following settings...
==> r1:  -- Name:              ml_42_r1
==> r1:  -- Description:       Source: /work/netlab_cicd/p2/Vagrantfile
==> r1:  -- Domain type:       kvm
==> r1:  -- Cpus:              2
==> r1:  -- Feature:           acpi
==> r1:  -- Clock offset:      utc
==> r1:  -- Memory:            6144M
==> r1:  -- Management MAC:    08:4f:a9:01:00:00
==> r1:  -- Loader:            /usr/share/OVMF/OVMF_CODE.fd
==> r1:  -- Base box:          cisco/nexus9300v
==> r1:  -- Storage pool:      default
==> r1:  -- Image(sda):        /var/lib/libvirt/images/ml_42_r1.img, sata, 10G
==> r1:  -- Disk driver opts:  cache='none'
==> r1:  -- Graphics Type:     none
==> r1:  -- Video Type:        cirrus
==> r1:  -- Video VRAM:        16384
==> r1:  -- Video 3D accel:    false
==> r1:  -- Keymap:            en-us
==> r1:  -- TPM Backend:       passthrough
==> r1:  -- INPUT:             type=mouse, bus=ps2
[fog][WARNING] Unrecognized arguments: libvirt_ip_command
==> r3: No version detected for cisco/nexus9300v, using timestamp to watch for modifications. Consider
==> r3: generating a local metadata for the box with a version to allow better handling.
==> r3: See https://www.vagrantup.com/docs/boxes/format#box-metadata for further details.
==> r3: Creating image (snapshot of base box volume).
==> r3: Creating domain with the following settings...
==> r3:  -- Name:              ml_42_r3
==> r3:  -- Description:       Source: /work/netlab_cicd/p2/Vagrantfile
==> r3:  -- Domain type:       kvm
==> r3:  -- Cpus:              2
==> r3:  -- Feature:           acpi
==> r3:  -- Clock offset:      utc
==> r3:  -- Memory:            6144M
==> r3:  -- Management MAC:    08:4f:a9:03:00:00
==> r3:  -- Loader:            /usr/share/OVMF/OVMF_CODE.fd
==> r3:  -- Base box:          cisco/nexus9300v
==> r3:  -- Storage pool:      default
==> r3:  -- Image(sda):        /var/lib/libvirt/images/ml_42_r3.img, sata, 10G
==> r3:  -- Disk driver opts:  cache='none'
==> r3:  -- Graphics Type:     none
==> r3:  -- Video Type:        cirrus
==> r3:  -- Video VRAM:        16384
==> r3:  -- Video 3D accel:    false
==> r3:  -- Keymap:            en-us
==> r3:  -- TPM Backend:       passthrough
==> r3:  -- INPUT:             type=mouse, bus=ps2
==> r1: Creating shared folders metadata...
==> r1: Updating domain definition due to configuration change
==> r1: Starting domain.
==> r1: Waiting for domain to get an IP address...
==> r3: Creating shared folders metadata...
==> r3: Updating domain definition due to configuration change
==> r3: Starting domain.
==> r3: Waiting for domain to get an IP address...
==> r1: Waiting for machine to boot. This may take a few minutes...
    r1: SSH address: 192.168.42.101:22
    r1: SSH username: vagrant
    r1: SSH auth method: private key
==> r1: Machine booted and ready!
==> r3: Removing domain...
==> r3: Deleting the machine folder
==> r3: An error occurred. The error will be shown after all tasks complete.
An error occurred while executing multiple actions in parallel.
Any errors that occurred are shown below.

An unexpected error occurred when executing the action on the
'r3' machine. Please report this as a bug:

The specified wait_for timeout (2 seconds) was exceeded

/home/pipi/.vagrant.d/gems/3.3.6/gems/fog-core-2.6.0/lib/fog/core/wait_for.rb:9:in `block in wait_for'
<internal:kernel>:187:in `loop'
/home/pipi/.vagrant.d/gems/3.3.6/gems/fog-core-2.6.0/lib/fog/core/wait_for.rb:6:in `wait_for'
/home/pipi/.vagrant.d/gems/3.3.6/gems/fog-core-2.6.0/lib/fog/core/model.rb:103:in `wait_for'
/home/pipi/.vagrant.d/gems/3.3.6/gems/vagrant-libvirt-0.12.2/lib/vagrant-libvirt/driver.rb:303:in `get_ipaddress_from_domain'
/home/pipi/.vagrant.d/gems/3.3.6/gems/vagrant-libvirt-0.12.2/lib/vagrant-libvirt/driver.rb:93:in `get_ipaddress'
/home/pipi/.vagrant.d/gems/3.3.6/gems/vagrant-libvirt-0.12.2/lib/vagrant-libvirt/action/wait_till_up.rb:45:in `block (2 levels) in call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/util/retryable.rb:20:in `retryable'
/home/pipi/.vagrant.d/gems/3.3.6/gems/vagrant-libvirt-0.12.2/lib/vagrant-libvirt/action/wait_till_up.rb:40:in `block in call'
/home/pipi/.vagrant.d/gems/3.3.6/gems/vagrant-libvirt-0.12.2/lib/vagrant-libvirt/util/timer.rb:11:in `time'
/home/pipi/.vagrant.d/gems/3.3.6/gems/vagrant-libvirt-0.12.2/lib/vagrant-libvirt/action/wait_till_up.rb:39:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/warden.rb:38:in `call'
/home/pipi/.vagrant.d/gems/3.3.6/gems/vagrant-libvirt-0.12.2/lib/vagrant-libvirt/action/start_domain.rb:630:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/warden.rb:38:in `call'
/home/pipi/.vagrant.d/gems/3.3.6/gems/vagrant-libvirt-0.12.2/lib/vagrant-libvirt/action/set_boot_order.rb:22:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/warden.rb:38:in `call'
/home/pipi/.vagrant.d/gems/3.3.6/gems/vagrant-libvirt-0.12.2/lib/vagrant-libvirt/action/share_folders.rb:22:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/warden.rb:38:in `call'
/home/pipi/.vagrant.d/gems/3.3.6/gems/vagrant-libvirt-0.12.2/lib/vagrant-libvirt/action/prepare_nfs_settings.rb:21:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/warden.rb:38:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/builtin/synced_folders.rb:90:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/warden.rb:38:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/builtin/delayed.rb:22:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/warden.rb:38:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/builtin/synced_folder_cleanup.rb:31:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/warden.rb:38:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/plugins/synced_folders/nfs/action_cleanup.rb:28:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/warden.rb:38:in `call'
/home/pipi/.vagrant.d/gems/3.3.6/gems/vagrant-libvirt-0.12.2/lib/vagrant-libvirt/action/prepare_nfs_valid_ids.rb:14:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/warden.rb:38:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/warden.rb:117:in `block in finalize_action'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/warden.rb:38:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/builder.rb:183:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/runner.rb:104:in `block in run'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/util/busy.rb:22:in `busy'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/runner.rb:104:in `run'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/builtin/call.rb:56:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/warden.rb:38:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/warden.rb:117:in `block in finalize_action'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/warden.rb:38:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/builder.rb:183:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/runner.rb:104:in `block in run'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/util/busy.rb:22:in `busy'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/runner.rb:104:in `run'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/builtin/call.rb:56:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/warden.rb:38:in `call'
/home/pipi/.vagrant.d/gems/3.3.6/gems/vagrant-libvirt-0.12.2/lib/vagrant-libvirt/action/create_network_interfaces.rb:169:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/warden.rb:38:in `call'
/home/pipi/.vagrant.d/gems/3.3.6/gems/vagrant-libvirt-0.12.2/lib/vagrant-libvirt/action/create_networks.rb:98:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/warden.rb:38:in `call'
/home/pipi/.vagrant.d/gems/3.3.6/gems/vagrant-libvirt-0.12.2/lib/vagrant-libvirt/action/create_domain.rb:466:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/warden.rb:38:in `call'
/home/pipi/.vagrant.d/gems/3.3.6/gems/vagrant-libvirt-0.12.2/lib/vagrant-libvirt/action/resolve_disk_settings.rb:143:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/warden.rb:38:in `call'
/home/pipi/.vagrant.d/gems/3.3.6/gems/vagrant-libvirt-0.12.2/lib/vagrant-libvirt/action/create_domain_volume.rb:98:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/warden.rb:38:in `call'
/home/pipi/.vagrant.d/gems/3.3.6/gems/vagrant-libvirt-0.12.2/lib/vagrant-libvirt/action/handle_box_image.rb:129:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/warden.rb:38:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/builtin/handle_box.rb:58:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/warden.rb:38:in `call'
/home/pipi/.vagrant.d/gems/3.3.6/gems/vagrant-libvirt-0.12.2/lib/vagrant-libvirt/action/handle_storage_pool.rb:63:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/warden.rb:38:in `call'
/home/pipi/.vagrant.d/gems/3.3.6/gems/vagrant-libvirt-0.12.2/lib/vagrant-libvirt/action/set_name_of_domain.rb:34:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/warden.rb:38:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/builtin/provision.rb:83:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/warden.rb:38:in `call'
/home/pipi/.vagrant.d/gems/3.3.6/gems/vagrant-libvirt-0.12.2/lib/vagrant-libvirt/action/cleanup_on_failure.rb:21:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/warden.rb:38:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/warden.rb:117:in `block in finalize_action'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/warden.rb:38:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/builder.rb:183:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/runner.rb:104:in `block in run'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/util/busy.rb:22:in `busy'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/runner.rb:104:in `run'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/builtin/call.rb:56:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/warden.rb:38:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/builtin/box_check_outdated.rb:39:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/warden.rb:38:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/builtin/config_validate.rb:28:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/warden.rb:38:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/builder.rb:183:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/runner.rb:104:in `block in run'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/util/busy.rb:22:in `busy'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/action/runner.rb:104:in `run'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/machine.rb:246:in `action_raw'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/machine.rb:215:in `block in action'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/environment.rb:649:in `lock'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/machine.rb:201:in `call'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/machine.rb:201:in `action'
/opt/vagrant/embedded/gems/gems/vagrant-2.4.3/lib/vagrant/batch_action.rb:88:in `block (2 levels) in run'
Fatal error in netlab up: vagrant up --provider libvirt failed, aborting...
Using transformed lab topology from snapshot file netlab.snapshot.yml
Checking virtualization provider installation
OK: libvirt installed and working correctly
OK: clab installed and working correctly
Starting libvirt nodes
creating libvirt management network nl_mgmt_42
provider libvirt: executing vagrant up --provider libvirt
Error executing vagrant up --provider libvirt:
  Command '['vagrant', 'up', '--provider', 'libvirt']' returned non-zero exit status 1.
