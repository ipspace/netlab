---
message: This scenario tests the virtual deployment of 'none' type devices, occupying IP address
         space but skipped when deployed as containers or VMs

nodes:
  switch:
    device: frr

  host-01:
    device: linux
  host-02:
    device: none
  host-03:
    device: none
  host-04:
    device: linux

links:
- switch:
  host-01:
  pool: p2p

- switch:
  host-02:
  pool: p2p

- switch:
  host-03:
  pool: p2p

- switch:
  host-04:
  pool: p2p

- host-02: # This link between 'none' devices should get removed in the final topology
  host-03:

validate:
  ping:
    description: IPv4 ping host-01 => host-04
    wait: 10
    wait_msg: Wait for IPv4 interfaces to become operational
    nodes: [ host-01 ]
    plugin: ping('host-04')
