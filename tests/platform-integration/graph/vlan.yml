# VLAN trunks
---
module: [ vlan ]
defaults.device: frr
provider: clab
plugin: [ files ]

groups:
  _auto_create: True
  hosts:
    members: [ h1, h2, h3 ]
    device: linux
  switches:
    members: [ sw1, sw2 ]
    graph.rank: 1

vlans:
  red:
    links: [ sw1-h1 ]
  blue:
    links: [ sw2-h2 ]

links:
- sw1-h3
- sw1:
  sw2:
  vlan.trunk: [ red, blue ]

files:
  make.sh: |
    netlab graph -t topology -f vlan dot-vlan.svg
    netlab graph -t topology -f vlan -e d2 d2-vlan.svg
