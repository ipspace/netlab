---
message: |
  This lab topology creates a lab with more than 300 devices, stressing
  the netlab capabilities.

plugin: [ fabric, node.clone ]

addressing:
  mgmt: 192.168.128.0/22
  lan.prefix: 22

provider: clab
defaults.device: frr
defaults.devices.linux.clab.image: busybox:latest
defaults.const.MAX_NODE_ID: 400

module: [ ospf, vlan ]

vlans:
  V1:
  V2:
  V3:
  V4:
  V5:
  V6:

fabric.spines: 2
fabric.leafs: 6

nodes:
  H1:
    device: linux
    clone.count: 50
  H2:
    device: linux
    clone.count: 50
  H3:
    device: linux
    clone.count: 50
  H4:
    device: linux
    clone.count: 50
  H5:
    device: linux
    clone.count: 50
  H6:
    device: linux
    clone.count: 50

links:
- interfaces: [ L1, H1 ]
  vlan.access: V1
- interfaces: [ L2, H2 ]
  vlan.access: V2
- interfaces: [ L3, H3 ]
  vlan.access: V3
- interfaces: [ L4, H4 ]
  vlan.access: V4
- interfaces: [ L5, H5 ]
  vlan.access: V5
- interfaces: [ L6, H6 ]
  vlan.access: V6
