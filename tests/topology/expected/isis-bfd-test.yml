bfd:
  min_echo_rx: 0
  multiplier: 3
input:
- topology/input/isis-bfd-test.yml
- package:topology-defaults.yml
isis:
  area: 49.0002
  bfd:
    ipv4: true
    ipv6: true
  type: level-2
links:
- bridge: input_1
  interfaces:
  - ipv4: 172.16.0.1/24
    node: sros_r1
  - ipv4: 172.16.0.2/24
    node: srlinux_r2
  - ipv4: 172.16.0.6/24
    node: n6
  linkindex: 1
  name: Regular link, BFD enabled
  node_count: 3
  prefix:
    ipv4: 172.16.0.0/24
  type: lan
- bfd: false
  interfaces:
  - ipv4: 10.1.0.1/30
    ipv6: 2001:db8:1::1/64
    node: srlinux_r2
  - ipv4: 10.1.0.2/30
    ipv6: 2001:db8:1::2/64
    node: sros_r1
  left:
    ifname: ethernet-1/2
    ipv4: 10.1.0.1/30
    ipv6: 2001:db8:1::1/64
    node: srlinux_r2
  linkindex: 2
  name: Link with BFD disabled
  node_count: 2
  prefix:
    ipv4: 10.1.0.0/30
    ipv6: 2001:db8:1::/64
  right:
    ifname: 1/1/c2
    ipv4: 10.1.0.2/30
    ipv6: 2001:db8:1::2/64
    node: sros_r1
  type: p2p
- interfaces:
  - ipv4: 10.1.0.5/30
    ipv6: 2001:db8:1:1::1/64
    node: srlinux_r2
  - ipv4: 10.1.0.6/30
    ipv6: 2001:db8:1:1::2/64
    node: sros_r1
  isis:
    bfd: false
  left:
    ifname: ethernet-1/3
    ipv4: 10.1.0.5/30
    ipv6: 2001:db8:1:1::1/64
    node: srlinux_r2
  linkindex: 3
  name: Link with ISIS BFD disabled
  node_count: 2
  prefix:
    ipv4: 10.1.0.4/30
    ipv6: 2001:db8:1:1::/64
  right:
    ifname: 1/1/c3
    ipv4: 10.1.0.6/30
    ipv6: 2001:db8:1:1::2/64
    node: sros_r1
  type: p2p
- interfaces:
  - ipv4: 10.1.0.9/30
    ipv6: 2001:db8:1:2::1/64
    node: srlinux_r2
  - ipv4: 10.1.0.10/30
    ipv6: 2001:db8:1:2::2/64
    node: sros_r1
  isis:
    bfd:
      ipv4: true
      ipv6: false
  left:
    ifname: ethernet-1/4
    ipv4: 10.1.0.9/30
    ipv6: 2001:db8:1:2::1/64
    node: srlinux_r2
  linkindex: 4
  name: Link with IPv4-only BFD
  node_count: 2
  prefix:
    ipv4: 10.1.0.8/30
    ipv6: 2001:db8:1:2::/64
  right:
    ifname: 1/1/c4
    ipv4: 10.1.0.10/30
    ipv6: 2001:db8:1:2::2/64
    node: sros_r1
  type: p2p
- interfaces:
  - ipv4: 10.1.0.13/30
    ipv6: 2001:db8:1:3::1/64
    node: srlinux_r2
  - ipv4: 10.1.0.14/30
    ipv6: 2001:db8:1:3::2/64
    node: sros_r1
  isis:
    bfd:
      ipv4: false
      ipv6: true
  left:
    ifname: ethernet-1/5
    ipv4: 10.1.0.13/30
    ipv6: 2001:db8:1:3::1/64
    node: srlinux_r2
  linkindex: 5
  name: Link with IPv6-only BFD
  node_count: 2
  prefix:
    ipv4: 10.1.0.12/30
    ipv6: 2001:db8:1:3::/64
  right:
    ifname: 1/1/c5
    ipv4: 10.1.0.14/30
    ipv6: 2001:db8:1:3::2/64
    node: sros_r1
  type: p2p
- interfaces:
  - ipv4: 10.42.42.1/24
    isis:
      bfd: true
    node: srlinux_r2
  - ipv4: 10.42.42.2/24
    node: sros_r1
  left:
    ifname: ethernet-1/6
    ipv4: 10.42.42.1/24
    node: srlinux_r2
  linkindex: 6
  name: IPv4-only link with BFD
  node_count: 2
  prefix:
    ipv4: 10.42.42.0/24
  right:
    ifname: 1/1/c6
    ipv4: 10.42.42.2/24
    node: sros_r1
  type: p2p
- interfaces:
  - ipv6: 2001:db8:42:1::1/64
    node: srlinux_r2
  - ipv6: 2001:db8:42:1::2/64
    node: sros_r1
  left:
    ifname: ethernet-1/7
    ipv6: 2001:db8:42:1::1/64
    node: srlinux_r2
  linkindex: 7
  name: IPv6-only link with BFD
  node_count: 2
  prefix:
    ipv6: 2001:db8:42:1::/64
  right:
    ifname: 1/1/c7
    ipv6: 2001:db8:42:1::2/64
    node: sros_r1
  type: p2p
- interfaces:
  - ipv4: 10.42.43.1/24
    isis:
      bfd:
        ipv6: true
    node: srlinux_r2
  - ipv4: 10.42.43.2/24
    node: sros_r1
  isis:
    bfd:
      ipv6: true
  left:
    ifname: ethernet-1/8
    ipv4: 10.42.43.1/24
    node: srlinux_r2
  linkindex: 8
  name: IPv4-only link with IPv6-only BFD
  node_count: 2
  prefix:
    ipv4: 10.42.43.0/24
  right:
    ifname: 1/1/c8
    ipv4: 10.42.43.2/24
    node: sros_r1
  type: p2p
module:
- isis
- bfd
name: input
nodes:
  n3:
    box: vrnetlab/vr-sros
    device: sros
    hostname: clab-input-n3
    id: 3
    interface_name: eth%d
    kind: vr-sros
    loopback:
      ipv4: 10.0.0.3/32
    mgmt:
      ifname: A/1
      ipv4: 192.168.121.103
      mac: 08-4F-A9-00-00-03
    module: []
    name: n3
    type: sr-1
  n4:
    box: vrnetlab/vr-sros
    device: sros
    hostname: clab-input-n4
    id: 4
    interface_name: eth%d
    isis:
      area: 49.0002
      bfd:
        ipv4: true
        ipv6: true
      ipv4: true
      type: level-2
    kind: vr-sros
    loopback:
      ipv4: 10.0.0.4/32
    mgmt:
      ifname: A/1
      ipv4: 192.168.121.104
      mac: 08-4F-A9-00-00-04
    module:
    - isis
    name: n4
    type: sr-1
  n5:
    bfd:
      min_echo_rx: 0
      min_rx: 100
      min_tx: 100
      multiplier: 3
    box: vrnetlab/vr-sros
    device: sros
    hostname: clab-input-n5
    id: 5
    interface_name: eth%d
    isis:
      area: 49.0002
      bfd:
        ipv4: true
        ipv6: true
      ipv4: true
      type: level-2
    kind: vr-sros
    loopback:
      ipv4: 10.0.0.5/32
    mgmt:
      ifname: A/1
      ipv4: 192.168.121.105
      mac: 08-4F-A9-00-00-05
    module:
    - isis
    - bfd
    name: n5
    type: sr-1
  n6:
    bfd:
      min_echo_rx: 0
      min_rx: 100
      min_tx: 100
      multiplier: 3
    box: ghcr.io/nokia/srlinux
    device: srlinux
    hostname: clab-input-n6
    id: 6
    interface_name: e1-%d
    interfaces:
    - bridge: input_1
      ifindex: 1
      ifname: ethernet-1/1
      ipv4: 172.16.0.6/24
      isis:
        passive: false
      linkindex: 1
      name: Regular link, BFD enabled
      neighbors:
      - ifname: 1/1/c1
        ipv4: 172.16.0.1/24
        node: sros_r1
      - ifname: ethernet-1/1
        ipv4: 172.16.0.2/24
        node: srlinux_r2
      provider_ifname: e1-1
      type: lan
    isis:
      area: 49.0002
      bfd: {}
      ipv4: true
      type: level-2
    kind: srl
    loopback:
      ipv4: 10.0.0.6/32
    mgmt:
      ifname: mgmt0
      ipv4: 192.168.121.106
      mac: 08-4F-A9-00-00-06
    module:
    - isis
    - bfd
    name: n6
    type: ixrd2
  srlinux_r2:
    bfd:
      min_echo_rx: 0
      min_rx: 100
      min_tx: 100
      multiplier: 3
    box: ghcr.io/nokia/srlinux
    device: srlinux
    hostname: clab-input-srlinux_r2
    id: 2
    interface_name: e1-%d
    interfaces:
    - bridge: input_1
      ifindex: 1
      ifname: ethernet-1/1
      ipv4: 172.16.0.2/24
      isis:
        bfd:
          ipv4: true
        passive: false
      linkindex: 1
      name: Regular link, BFD enabled
      neighbors:
      - ifname: 1/1/c1
        ipv4: 172.16.0.1/24
        node: sros_r1
      - ifname: ethernet-1/1
        ipv4: 172.16.0.6/24
        node: n6
      provider_ifname: e1-1
      type: lan
    - bfd: false
      ifindex: 2
      ifname: ethernet-1/2
      ipv4: 10.1.0.1/30
      ipv6: 2001:db8:1::1/64
      isis:
        network_type: point-to-point
        passive: false
      linkindex: 2
      name: Link with BFD disabled
      neighbors:
      - ifname: 1/1/c2
        ipv4: 10.1.0.2/30
        ipv6: 2001:db8:1::2/64
        node: sros_r1
      provider_ifname: e1-2
      remote_id: 1
      remote_ifindex: 2
      type: p2p
    - ifindex: 3
      ifname: ethernet-1/3
      ipv4: 10.1.0.5/30
      ipv6: 2001:db8:1:1::1/64
      isis:
        network_type: point-to-point
        passive: false
      linkindex: 3
      name: Link with ISIS BFD disabled
      neighbors:
      - ifname: 1/1/c3
        ipv4: 10.1.0.6/30
        ipv6: 2001:db8:1:1::2/64
        node: sros_r1
      provider_ifname: e1-3
      remote_id: 1
      remote_ifindex: 3
      type: p2p
    - ifindex: 4
      ifname: ethernet-1/4
      ipv4: 10.1.0.9/30
      ipv6: 2001:db8:1:2::1/64
      isis:
        bfd:
          ipv4: true
          ipv6: false
        network_type: point-to-point
        passive: false
      linkindex: 4
      name: Link with IPv4-only BFD
      neighbors:
      - ifname: 1/1/c4
        ipv4: 10.1.0.10/30
        ipv6: 2001:db8:1:2::2/64
        node: sros_r1
      provider_ifname: e1-4
      remote_id: 1
      remote_ifindex: 4
      type: p2p
    - ifindex: 5
      ifname: ethernet-1/5
      ipv4: 10.1.0.13/30
      ipv6: 2001:db8:1:3::1/64
      isis:
        bfd:
          ipv4: false
          ipv6: true
        network_type: point-to-point
        passive: false
      linkindex: 5
      name: Link with IPv6-only BFD
      neighbors:
      - ifname: 1/1/c5
        ipv4: 10.1.0.14/30
        ipv6: 2001:db8:1:3::2/64
        node: sros_r1
      provider_ifname: e1-5
      remote_id: 1
      remote_ifindex: 5
      type: p2p
    - ifindex: 6
      ifname: ethernet-1/6
      ipv4: 10.42.42.1/24
      isis:
        bfd:
          ipv4: true
        network_type: point-to-point
        passive: false
      linkindex: 6
      name: IPv4-only link with BFD
      neighbors:
      - ifname: 1/1/c6
        ipv4: 10.42.42.2/24
        node: sros_r1
      provider_ifname: e1-6
      remote_id: 1
      remote_ifindex: 6
      type: p2p
    - ifindex: 7
      ifname: ethernet-1/7
      ipv6: 2001:db8:42:1::1/64
      isis:
        bfd:
          ipv6: true
        network_type: point-to-point
        passive: false
      linkindex: 7
      name: IPv6-only link with BFD
      neighbors:
      - ifname: 1/1/c7
        ipv6: 2001:db8:42:1::2/64
        node: sros_r1
      provider_ifname: e1-7
      remote_id: 1
      remote_ifindex: 7
      type: p2p
    - ifindex: 8
      ifname: ethernet-1/8
      ipv4: 10.42.43.1/24
      isis:
        network_type: point-to-point
        passive: false
      linkindex: 8
      name: IPv4-only link with IPv6-only BFD
      neighbors:
      - ifname: 1/1/c8
        ipv4: 10.42.43.2/24
        node: sros_r1
      provider_ifname: e1-8
      remote_id: 1
      remote_ifindex: 8
      type: p2p
    isis:
      area: 49.0002
      bfd:
        ipv4: true
        ipv6: true
      ipv4: true
      ipv6: true
      type: level-2
    kind: srl
    loopback:
      ipv4: 10.0.0.2/32
    mgmt:
      ifname: mgmt0
      ipv4: 192.168.121.102
      mac: 08-4F-A9-00-00-02
    module:
    - isis
    - bfd
    name: srlinux_r2
    type: ixrd2
  sros_r1:
    bfd:
      min_echo_rx: 0
      min_rx: 100
      min_tx: 100
      multiplier: 3
    box: vrnetlab/vr-sros
    device: sros
    hostname: clab-input-sros_r1
    id: 1
    interface_name: eth%d
    interfaces:
    - bridge: input_1
      ifindex: 1
      ifname: 1/1/c1
      ipv4: 172.16.0.1/24
      isis:
        bfd:
          ipv4: true
        passive: false
      linkindex: 1
      name: Regular link, BFD enabled
      neighbors:
      - ifname: ethernet-1/1
        ipv4: 172.16.0.2/24
        node: srlinux_r2
      - ifname: ethernet-1/1
        ipv4: 172.16.0.6/24
        node: n6
      provider_ifname: eth1
      type: lan
    - bfd: false
      ifindex: 2
      ifname: 1/1/c2
      ipv4: 10.1.0.2/30
      ipv6: 2001:db8:1::2/64
      isis:
        network_type: point-to-point
        passive: false
      linkindex: 2
      name: Link with BFD disabled
      neighbors:
      - ifname: ethernet-1/2
        ipv4: 10.1.0.1/30
        ipv6: 2001:db8:1::1/64
        node: srlinux_r2
      provider_ifname: eth2
      remote_id: 2
      remote_ifindex: 2
      type: p2p
    - ifindex: 3
      ifname: 1/1/c3
      ipv4: 10.1.0.6/30
      ipv6: 2001:db8:1:1::2/64
      isis:
        network_type: point-to-point
        passive: false
      linkindex: 3
      name: Link with ISIS BFD disabled
      neighbors:
      - ifname: ethernet-1/3
        ipv4: 10.1.0.5/30
        ipv6: 2001:db8:1:1::1/64
        node: srlinux_r2
      provider_ifname: eth3
      remote_id: 2
      remote_ifindex: 3
      type: p2p
    - ifindex: 4
      ifname: 1/1/c4
      ipv4: 10.1.0.10/30
      ipv6: 2001:db8:1:2::2/64
      isis:
        bfd:
          ipv4: true
          ipv6: false
        network_type: point-to-point
        passive: false
      linkindex: 4
      name: Link with IPv4-only BFD
      neighbors:
      - ifname: ethernet-1/4
        ipv4: 10.1.0.9/30
        ipv6: 2001:db8:1:2::1/64
        node: srlinux_r2
      provider_ifname: eth4
      remote_id: 2
      remote_ifindex: 4
      type: p2p
    - ifindex: 5
      ifname: 1/1/c5
      ipv4: 10.1.0.14/30
      ipv6: 2001:db8:1:3::2/64
      isis:
        bfd:
          ipv4: false
          ipv6: true
        network_type: point-to-point
        passive: false
      linkindex: 5
      name: Link with IPv6-only BFD
      neighbors:
      - ifname: ethernet-1/5
        ipv4: 10.1.0.13/30
        ipv6: 2001:db8:1:3::1/64
        node: srlinux_r2
      provider_ifname: eth5
      remote_id: 2
      remote_ifindex: 5
      type: p2p
    - ifindex: 6
      ifname: 1/1/c6
      ipv4: 10.42.42.2/24
      isis:
        bfd:
          ipv4: true
        network_type: point-to-point
        passive: false
      linkindex: 6
      name: IPv4-only link with BFD
      neighbors:
      - ifname: ethernet-1/6
        ipv4: 10.42.42.1/24
        node: srlinux_r2
      provider_ifname: eth6
      remote_id: 2
      remote_ifindex: 6
      type: p2p
    - ifindex: 7
      ifname: 1/1/c7
      ipv6: 2001:db8:42:1::2/64
      isis:
        bfd:
          ipv6: true
        network_type: point-to-point
        passive: false
      linkindex: 7
      name: IPv6-only link with BFD
      neighbors:
      - ifname: ethernet-1/7
        ipv6: 2001:db8:42:1::1/64
        node: srlinux_r2
      provider_ifname: eth7
      remote_id: 2
      remote_ifindex: 7
      type: p2p
    - ifindex: 8
      ifname: 1/1/c8
      ipv4: 10.42.43.2/24
      isis:
        network_type: point-to-point
        passive: false
      linkindex: 8
      name: IPv4-only link with IPv6-only BFD
      neighbors:
      - ifname: ethernet-1/8
        ipv4: 10.42.43.1/24
        node: srlinux_r2
      provider_ifname: eth8
      remote_id: 2
      remote_ifindex: 8
      type: p2p
    isis:
      area: 49.0002
      bfd:
        ipv4: true
        ipv6: true
      ipv4: true
      ipv6: true
      type: level-2
    kind: vr-sros
    loopback:
      ipv4: 10.0.0.1/32
    mgmt:
      ifname: A/1
      ipv4: 192.168.121.101
      mac: 08-4F-A9-00-00-01
    module:
    - isis
    - bfd
    name: sros_r1
    type: sr-1
provider: clab
