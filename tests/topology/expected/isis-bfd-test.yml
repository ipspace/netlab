bfd:
  min_echo_rx: 0
  multiplier: 3
input:
- topology/input/isis-bfd-test.yml
- package:topology-defaults.yml
isis:
  area: '49.0002'
  bfd:
    ipv4: true
    ipv6: true
  type: level-2
links:
- bridge: input_1
  interfaces:
  - ifindex: 1
    ifname: Ethernet1
    ipv4: 172.16.0.1/24
    node: r1
  - ifindex: 1
    ifname: Ethernet1
    ipv4: 172.16.0.2/24
    node: r2
  - ifindex: 1
    ifname: Ethernet1
    ipv4: 172.16.0.5/24
    node: n6
  linkindex: 1
  name: Regular (IPv4-only) link, BFD enabled
  node_count: 3
  prefix:
    ipv4: 172.16.0.0/24
  type: lan
- interfaces:
  - ifindex: 2
    ifname: Ethernet2
    ipv4: 10.1.0.1/30
    ipv6: 2001:db8:1::1/64
    node: r1
  - ifindex: 2
    ifname: Ethernet2
    ipv4: 10.1.0.2/30
    ipv6: 2001:db8:1::2/64
    node: r2
  linkindex: 2
  name: Regular (dual-stack) P2P link, BFD enabled
  node_count: 2
  prefix:
    ipv4: 10.1.0.0/30
    ipv6: 2001:db8:1::/64
  type: p2p
- bfd: false
  interfaces:
  - ifindex: 3
    ifname: Ethernet3
    ipv4: 10.1.0.5/30
    ipv6: 2001:db8:1:1::1/64
    node: r1
  - ifindex: 3
    ifname: Ethernet3
    ipv4: 10.1.0.6/30
    ipv6: 2001:db8:1:1::2/64
    node: r2
  linkindex: 3
  name: Link with BFD disabled
  node_count: 2
  prefix:
    ipv4: 10.1.0.4/30
    ipv6: 2001:db8:1:1::/64
  type: p2p
- interfaces:
  - ifindex: 4
    ifname: Ethernet4
    ipv4: 10.1.0.9/30
    ipv6: 2001:db8:1:2::1/64
    node: r1
  - ifindex: 4
    ifname: Ethernet4
    ipv4: 10.1.0.10/30
    ipv6: 2001:db8:1:2::2/64
    node: r2
  isis:
    bfd: false
  linkindex: 4
  name: Link with ISIS BFD disabled
  node_count: 2
  prefix:
    ipv4: 10.1.0.8/30
    ipv6: 2001:db8:1:2::/64
  type: p2p
- interfaces:
  - ifindex: 5
    ifname: Ethernet5
    ipv4: 10.1.0.13/30
    ipv6: 2001:db8:1:3::1/64
    node: r1
  - ifindex: 5
    ifname: Ethernet5
    ipv4: 10.1.0.14/30
    ipv6: 2001:db8:1:3::2/64
    node: r2
  isis: false
  linkindex: 5
  name: Link with ISIS disabled
  node_count: 2
  prefix:
    ipv4: 10.1.0.12/30
    ipv6: 2001:db8:1:3::/64
  type: p2p
- interfaces:
  - ifindex: 6
    ifname: Ethernet6
    ipv4: 10.1.0.17/30
    ipv6: 2001:db8:1:4::1/64
    node: r1
  - ifindex: 6
    ifname: Ethernet6
    ipv4: 10.1.0.18/30
    ipv6: 2001:db8:1:4::2/64
    node: r2
  isis:
    bfd:
      ipv4: true
      ipv6: false
  linkindex: 6
  name: Link with IPv4-only BFD
  node_count: 2
  prefix:
    ipv4: 10.1.0.16/30
    ipv6: 2001:db8:1:4::/64
  type: p2p
- interfaces:
  - ifindex: 7
    ifname: Ethernet7
    ipv4: 10.1.0.21/30
    ipv6: 2001:db8:1:5::1/64
    node: r1
  - ifindex: 7
    ifname: Ethernet7
    ipv4: 10.1.0.22/30
    ipv6: 2001:db8:1:5::2/64
    node: r2
  isis:
    bfd:
      ipv4: false
      ipv6: true
  linkindex: 7
  name: Link with IPv6-only BFD
  node_count: 2
  prefix:
    ipv4: 10.1.0.20/30
    ipv6: 2001:db8:1:5::/64
  type: p2p
- interfaces:
  - ifindex: 8
    ifname: Ethernet8
    ipv4: 10.42.42.1/24
    node: r1
  - ifindex: 8
    ifname: Ethernet8
    ipv4: 10.42.42.2/24
    isis:
      bfd: true
    node: r2
  linkindex: 8
  name: IPv4-only link with BFD
  node_count: 2
  prefix:
    ipv4: 10.42.42.0/24
  type: p2p
- interfaces:
  - ifindex: 9
    ifname: Ethernet9
    ipv6: 2001:db8:42:1::1/64
    node: r1
  - ifindex: 9
    ifname: Ethernet9
    ipv6: 2001:db8:42:1::2/64
    node: r2
  linkindex: 9
  name: IPv6-only link with BFD
  node_count: 2
  prefix:
    ipv6: 2001:db8:42:1::/64
  type: p2p
- interfaces:
  - ifindex: 10
    ifname: Ethernet10
    ipv4: 10.42.43.1/24
    node: r1
  - ifindex: 10
    ifname: Ethernet10
    ipv4: 10.42.43.2/24
    isis:
      bfd:
        ipv6: true
    node: r2
  isis:
    bfd:
      ipv6: true
  linkindex: 10
  name: IPv4-only link with IPv6-only BFD
  node_count: 2
  prefix:
    ipv4: 10.42.43.0/24
  type: p2p
- interfaces:
  - ifindex: 1
    ifname: Ethernet1
    ipv4: 10.1.0.25/30
    ipv6: 2001:db8:1:6::1/64
    node: n4
  - ifindex: 1
    ifname: Ethernet1
    ipv4: 10.1.0.26/30
    ipv6: 2001:db8:1:6::2/64
    node: n5
  linkindex: 11
  node_count: 2
  prefix:
    ipv4: 10.1.0.24/30
    ipv6: 2001:db8:1:6::/64
  type: p2p
module:
- bfd
- isis
name: input
nodes:
  n4:
    af:
      ipv4: true
      ipv6: true
    box: ceos:4.31.2F
    clab:
      env:
        CLAB_MGMT_VRF: management
        INTFTYPE: et
      kind: ceos
    device: eos
    hostname: clab-input-n4
    id: 3
    interfaces:
    - clab:
        name: et1
      ifindex: 1
      ifname: Ethernet1
      ipv4: 10.1.0.25/30
      ipv6: 2001:db8:1:6::1/64
      isis:
        network_type: point-to-point
        passive: false
      linkindex: 11
      name: n4 -> n5
      neighbors:
      - ifname: Ethernet1
        ipv4: 10.1.0.26/30
        ipv6: 2001:db8:1:6::2/64
        node: n5
      type: p2p
    isis:
      af:
        ipv4: true
        ipv6: true
      area: '49.0002'
      type: level-2
    loopback:
      ifindex: 0
      ifname: Loopback0
      ipv4: 10.0.0.3/32
      neighbors: []
      type: loopback
      virtual_interface: true
    mgmt:
      ifname: Management0
      ipv4: 192.168.121.103
      mac: 08:4f:a9:00:00:03
    module:
    - isis
    name: n4
  n5:
    af:
      ipv4: true
      ipv6: true
    bfd:
      min_echo_rx: 0
      multiplier: 3
    box: ceos:4.31.2F
    clab:
      env:
        CLAB_MGMT_VRF: management
        INTFTYPE: et
      kind: ceos
    device: eos
    hostname: clab-input-n5
    id: 4
    interfaces:
    - clab:
        name: et1
      ifindex: 1
      ifname: Ethernet1
      ipv4: 10.1.0.26/30
      ipv6: 2001:db8:1:6::2/64
      isis:
        bfd:
          ipv4: true
          ipv6: true
        network_type: point-to-point
        passive: false
      linkindex: 11
      name: n5 -> n4
      neighbors:
      - ifname: Ethernet1
        ipv4: 10.1.0.25/30
        ipv6: 2001:db8:1:6::1/64
        node: n4
      type: p2p
    isis:
      af:
        ipv4: true
        ipv6: true
      area: '49.0002'
      bfd:
        ipv4: true
        ipv6: true
      type: level-2
    loopback:
      ifindex: 0
      ifname: Loopback0
      ipv4: 10.0.0.4/32
      neighbors: []
      type: loopback
      virtual_interface: true
    mgmt:
      ifname: Management0
      ipv4: 192.168.121.104
      mac: 08:4f:a9:00:00:04
    module:
    - isis
    - bfd
    name: n5
  n6:
    af:
      ipv4: true
    bfd:
      min_echo_rx: 0
      multiplier: 3
    box: ceos:4.31.2F
    clab:
      env:
        CLAB_MGMT_VRF: management
        INTFTYPE: et
      kind: ceos
    device: eos
    hostname: clab-input-n6
    id: 5
    interfaces:
    - bridge: input_1
      clab:
        name: et1
      ifindex: 1
      ifname: Ethernet1
      ipv4: 172.16.0.5/24
      isis:
        passive: false
      linkindex: 1
      name: Regular (IPv4-only) link, BFD enabled
      neighbors:
      - ifname: Ethernet1
        ipv4: 172.16.0.1/24
        node: r1
      - ifname: Ethernet1
        ipv4: 172.16.0.2/24
        node: r2
      type: lan
    isis:
      af:
        ipv4: true
      area: '49.0002'
      type: level-2
    loopback:
      ifindex: 0
      ifname: Loopback0
      ipv4: 10.0.0.5/32
      neighbors: []
      type: loopback
      virtual_interface: true
    mgmt:
      ifname: Management0
      ipv4: 192.168.121.105
      mac: 08:4f:a9:00:00:05
    module:
    - isis
    - bfd
    name: n6
  r1:
    af:
      ipv4: true
      ipv6: true
    bfd:
      min_echo_rx: 0
      multiplier: 3
    box: ceos:4.31.2F
    clab:
      env:
        CLAB_MGMT_VRF: management
        INTFTYPE: et
      kind: ceos
    device: eos
    hostname: clab-input-r1
    id: 1
    interfaces:
    - bridge: input_1
      clab:
        name: et1
      ifindex: 1
      ifname: Ethernet1
      ipv4: 172.16.0.1/24
      isis:
        bfd:
          ipv4: true
        passive: false
      linkindex: 1
      name: Regular (IPv4-only) link, BFD enabled
      neighbors:
      - ifname: Ethernet1
        ipv4: 172.16.0.2/24
        node: r2
      - ifname: Ethernet1
        ipv4: 172.16.0.5/24
        node: n6
      type: lan
    - clab:
        name: et2
      ifindex: 2
      ifname: Ethernet2
      ipv4: 10.1.0.1/30
      ipv6: 2001:db8:1::1/64
      isis:
        bfd:
          ipv4: true
          ipv6: true
        network_type: point-to-point
        passive: false
      linkindex: 2
      name: Regular (dual-stack) P2P link, BFD enabled
      neighbors:
      - ifname: Ethernet2
        ipv4: 10.1.0.2/30
        ipv6: 2001:db8:1::2/64
        node: r2
      type: p2p
    - bfd: false
      clab:
        name: et3
      ifindex: 3
      ifname: Ethernet3
      ipv4: 10.1.0.5/30
      ipv6: 2001:db8:1:1::1/64
      isis:
        network_type: point-to-point
        passive: false
      linkindex: 3
      name: Link with BFD disabled
      neighbors:
      - ifname: Ethernet3
        ipv4: 10.1.0.6/30
        ipv6: 2001:db8:1:1::2/64
        node: r2
      type: p2p
    - clab:
        name: et4
      ifindex: 4
      ifname: Ethernet4
      ipv4: 10.1.0.9/30
      ipv6: 2001:db8:1:2::1/64
      isis:
        network_type: point-to-point
        passive: false
      linkindex: 4
      name: Link with ISIS BFD disabled
      neighbors:
      - ifname: Ethernet4
        ipv4: 10.1.0.10/30
        ipv6: 2001:db8:1:2::2/64
        node: r2
      type: p2p
    - clab:
        name: et5
      ifindex: 5
      ifname: Ethernet5
      ipv4: 10.1.0.13/30
      ipv6: 2001:db8:1:3::1/64
      linkindex: 5
      name: Link with ISIS disabled
      neighbors:
      - ifname: Ethernet5
        ipv4: 10.1.0.14/30
        ipv6: 2001:db8:1:3::2/64
        node: r2
      type: p2p
    - clab:
        name: et6
      ifindex: 6
      ifname: Ethernet6
      ipv4: 10.1.0.17/30
      ipv6: 2001:db8:1:4::1/64
      isis:
        bfd:
          ipv4: true
          ipv6: false
        network_type: point-to-point
        passive: false
      linkindex: 6
      name: Link with IPv4-only BFD
      neighbors:
      - ifname: Ethernet6
        ipv4: 10.1.0.18/30
        ipv6: 2001:db8:1:4::2/64
        node: r2
      type: p2p
    - clab:
        name: et7
      ifindex: 7
      ifname: Ethernet7
      ipv4: 10.1.0.21/30
      ipv6: 2001:db8:1:5::1/64
      isis:
        bfd:
          ipv4: false
          ipv6: true
        network_type: point-to-point
        passive: false
      linkindex: 7
      name: Link with IPv6-only BFD
      neighbors:
      - ifname: Ethernet7
        ipv4: 10.1.0.22/30
        ipv6: 2001:db8:1:5::2/64
        node: r2
      type: p2p
    - clab:
        name: et8
      ifindex: 8
      ifname: Ethernet8
      ipv4: 10.42.42.1/24
      isis:
        bfd:
          ipv4: true
        network_type: point-to-point
        passive: false
      linkindex: 8
      name: IPv4-only link with BFD
      neighbors:
      - ifname: Ethernet8
        ipv4: 10.42.42.2/24
        node: r2
      type: p2p
    - clab:
        name: et9
      ifindex: 9
      ifname: Ethernet9
      ipv6: 2001:db8:42:1::1/64
      isis:
        bfd:
          ipv6: true
        network_type: point-to-point
        passive: false
      linkindex: 9
      name: IPv6-only link with BFD
      neighbors:
      - ifname: Ethernet9
        ipv6: 2001:db8:42:1::2/64
        node: r2
      type: p2p
    - clab:
        name: et10
      ifindex: 10
      ifname: Ethernet10
      ipv4: 10.42.43.1/24
      isis:
        network_type: point-to-point
        passive: false
      linkindex: 10
      name: IPv4-only link with IPv6-only BFD
      neighbors:
      - ifname: Ethernet10
        ipv4: 10.42.43.2/24
        node: r2
      type: p2p
    isis:
      af:
        ipv4: true
        ipv6: true
      area: '49.0002'
      bfd:
        ipv4: true
        ipv6: true
      type: level-2
    loopback:
      ifindex: 0
      ifname: Loopback0
      ipv4: 10.0.0.1/32
      neighbors: []
      type: loopback
      virtual_interface: true
    mgmt:
      ifname: Management0
      ipv4: 192.168.121.101
      mac: 08:4f:a9:00:00:01
    module:
    - isis
    - bfd
    name: r1
  r2:
    af:
      ipv4: true
      ipv6: true
    bfd:
      min_echo_rx: 0
      multiplier: 3
    box: ceos:4.31.2F
    clab:
      env:
        CLAB_MGMT_VRF: management
        INTFTYPE: et
      kind: ceos
    device: eos
    hostname: clab-input-r2
    id: 2
    interfaces:
    - bridge: input_1
      clab:
        name: et1
      ifindex: 1
      ifname: Ethernet1
      ipv4: 172.16.0.2/24
      isis:
        passive: false
      linkindex: 1
      name: Regular (IPv4-only) link, BFD enabled
      neighbors:
      - ifname: Ethernet1
        ipv4: 172.16.0.1/24
        node: r1
      - ifname: Ethernet1
        ipv4: 172.16.0.5/24
        node: n6
      type: lan
    - clab:
        name: et2
      ifindex: 2
      ifname: Ethernet2
      ipv4: 10.1.0.2/30
      ipv6: 2001:db8:1::2/64
      isis:
        network_type: point-to-point
        passive: false
      linkindex: 2
      name: Regular (dual-stack) P2P link, BFD enabled
      neighbors:
      - ifname: Ethernet2
        ipv4: 10.1.0.1/30
        ipv6: 2001:db8:1::1/64
        node: r1
      type: p2p
    - bfd: false
      clab:
        name: et3
      ifindex: 3
      ifname: Ethernet3
      ipv4: 10.1.0.6/30
      ipv6: 2001:db8:1:1::2/64
      isis:
        network_type: point-to-point
        passive: false
      linkindex: 3
      name: Link with BFD disabled
      neighbors:
      - ifname: Ethernet3
        ipv4: 10.1.0.5/30
        ipv6: 2001:db8:1:1::1/64
        node: r1
      type: p2p
    - clab:
        name: et4
      ifindex: 4
      ifname: Ethernet4
      ipv4: 10.1.0.10/30
      ipv6: 2001:db8:1:2::2/64
      isis:
        network_type: point-to-point
        passive: false
      linkindex: 4
      name: Link with ISIS BFD disabled
      neighbors:
      - ifname: Ethernet4
        ipv4: 10.1.0.9/30
        ipv6: 2001:db8:1:2::1/64
        node: r1
      type: p2p
    - clab:
        name: et5
      ifindex: 5
      ifname: Ethernet5
      ipv4: 10.1.0.14/30
      ipv6: 2001:db8:1:3::2/64
      linkindex: 5
      name: Link with ISIS disabled
      neighbors:
      - ifname: Ethernet5
        ipv4: 10.1.0.13/30
        ipv6: 2001:db8:1:3::1/64
        node: r1
      type: p2p
    - clab:
        name: et6
      ifindex: 6
      ifname: Ethernet6
      ipv4: 10.1.0.18/30
      ipv6: 2001:db8:1:4::2/64
      isis:
        bfd:
          ipv4: true
          ipv6: false
        network_type: point-to-point
        passive: false
      linkindex: 6
      name: Link with IPv4-only BFD
      neighbors:
      - ifname: Ethernet6
        ipv4: 10.1.0.17/30
        ipv6: 2001:db8:1:4::1/64
        node: r1
      type: p2p
    - clab:
        name: et7
      ifindex: 7
      ifname: Ethernet7
      ipv4: 10.1.0.22/30
      ipv6: 2001:db8:1:5::2/64
      isis:
        bfd:
          ipv4: false
          ipv6: true
        network_type: point-to-point
        passive: false
      linkindex: 7
      name: Link with IPv6-only BFD
      neighbors:
      - ifname: Ethernet7
        ipv4: 10.1.0.21/30
        ipv6: 2001:db8:1:5::1/64
        node: r1
      type: p2p
    - clab:
        name: et8
      ifindex: 8
      ifname: Ethernet8
      ipv4: 10.42.42.2/24
      isis:
        network_type: point-to-point
        passive: false
      linkindex: 8
      name: IPv4-only link with BFD
      neighbors:
      - ifname: Ethernet8
        ipv4: 10.42.42.1/24
        node: r1
      type: p2p
    - clab:
        name: et9
      ifindex: 9
      ifname: Ethernet9
      ipv6: 2001:db8:42:1::2/64
      isis:
        network_type: point-to-point
        passive: false
      linkindex: 9
      name: IPv6-only link with BFD
      neighbors:
      - ifname: Ethernet9
        ipv6: 2001:db8:42:1::1/64
        node: r1
      type: p2p
    - clab:
        name: et10
      ifindex: 10
      ifname: Ethernet10
      ipv4: 10.42.43.2/24
      isis:
        network_type: point-to-point
        passive: false
      linkindex: 10
      name: IPv4-only link with IPv6-only BFD
      neighbors:
      - ifname: Ethernet10
        ipv4: 10.42.43.1/24
        node: r1
      type: p2p
    isis:
      af: {}
      area: '49.0002'
      type: level-2
    loopback:
      ifindex: 0
      ifname: Loopback0
      ipv4: 10.0.0.2/32
      neighbors: []
      type: loopback
      virtual_interface: true
    mgmt:
      ifname: Management0
      ipv4: 192.168.121.102
      mac: 08:4f:a9:00:00:02
    module:
    - bfd
    name: r2
provider: clab
