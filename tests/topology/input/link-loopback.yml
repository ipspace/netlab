# Tests the 'loopback' link type (#413 / #708)
#
defaults:
  links.stub_loopback: True
  devices.iosv.features.stub_loopback: False

nodes:
  r1:
    device: eos
  r2:
    device: iosv
  h1:
    device: linux

links:
- h1:                       # Linux does not support loopback interfaces, should remain a stub network
- r1:                       # Arista EOS supports loopback interfaces, should be converted into a loopback
- r2:                       # Stub loopbacks were disabled on IOSv, this should remain a regular stub network
- r2:
  type: loopback            # While this one is an explicit loopback
