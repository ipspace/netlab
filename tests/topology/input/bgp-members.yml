#
# Test pattern matching in bgp.as_list attributes and bgp.rr_mesh behavior
#
module: [bgp]

defaults:
  device: iosv
  bgp.warnings.missing_igp: False

bgp:
  rr_mesh: False
  as_list:
    65000:
      members: [ rr1, rr*, pe*, pe2 ]
      rr: [ '~rr[12]' ]
    65001:
      members: [e1]

nodes:
- rr1
- rr2
- pe1
- pe2
- e1
- name: e2
  bgp:
    as: 65002

links:
- rr1-pe1
- rr1-pe2
- rr2-pe1
- rr2-pe2
- pe1-e1
- pe2-e2
