---
provider: clab
defaults.device: none

addressing.p2p.ipv6: 2001:db8:1::/48
addressing.loopback.ipv6: 2001:db8::/48

prefix:
  p1:
    ipv4: 10.42.0.0/16
  p2:
    ipv6: 2001:db8:cafe:1::/64

routing.static:
  lan_pool:
    pool: lan
    nexthop.node: x

nodes:
  c:
    module: [ routing ]
    routing.static:
    - ipv4: 0.0.0.0/0
      nexthop.node: p
    - pool: loopback
      nexthop.node: x
    - node: x
      nexthop.node: p
    - prefix: p1
      nexthop.ipv4: 10.0.0.1
    - prefix: p2
      nexthop.node: x
    - include: lan_pool
      nexthop.ipv4: 10.0.0.42
  p:
  x:

links:
- c-p
- c-p
- p-x
