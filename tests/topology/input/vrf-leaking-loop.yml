provider: clab

module: [ vrf, vlan ]

vrfs:
  global: # Global VRF

  customer1:

vlans:
  route-leak-to-global-customer1:

nodes:
  leaf1:
    device: srlinux

links:
- interfaces:
  - node: leaf1
    name: Global side
    vlan.trunk: [route-leak-to-global-customer1]
    vlan.trunk:
      route-leak-to-global-customer1:
        vrf: global

  - node: leaf1 # leaf2 for testing
    name: Customer side
    vlan.trunk: [route-leak-to-global-customer1]
    vlan.trunk:
      route-leak-to-global-customer1:
        vrf: customer1
