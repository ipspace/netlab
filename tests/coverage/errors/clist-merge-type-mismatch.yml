# Test the parsing of community lists
#

defaults.device: none

module: [ routing ]

routing:
  community:                                      # Merge of global clist with a node clisst
    cl4: 65000:104                                # ... regression test for #2155

nodes:
  r1:
    routing:
      policy:
        m_clist:
        - match.community: cl4
          action: permit

      community:
        cl4:                                      # More complex standard ACL
          type: extended
          value:
          - action: permit                          # Used to implement or-of-ands condition
            path: [65000:100, 65001:100]
            sequence: 20
          - action: permit
            path: [65000:103, 65001:103]
            sequence: 30
