---
message: |
  This scenario tests the basic "bridge" functionality. As a "bridge" is nothing
  more than a VLAN-capable node having all interfaces in VLAN 1, this test
  effectively:

  * Tests whether the device can take the role 'bridge'
  * Whether the interfaces are all configured in the same VLAN
  * Whether the device configuration template handles VLAN 1, or the device
    quirks take extra efforts to work around that

groups:
  hosts:
    members: [ h1, h2, h3 ]
    device: linux
    provider: clab

nodes:
  dut:
    role: bridge
  h1:
  h2:
  h3:

links: [ dut-h1-h2-h3 ]

validate:
  ping:
    description: IPv4 ping H3
    wait: 40
    wait_msg: Wait for STP to do its job
    nodes: [ h1, h2 ]
    plugin: ping('h3')
