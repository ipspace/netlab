[session] Check BGP sessions with DUT1 [ node(s): r1,r2,rr2,x1 ]
[WAITING] Wait for BGP sessions to be established (retrying for 30 seconds)
[PASS]    x1: Neighbor 2001:db8:3:3::1 (dut) is in state Established
[PASS]    r1: Neighbor 2001:db8:1::1 (dut) is in state Established
[WAITING] Wait for BGP sessions to be established (14 seconds left)
[PASS]    r2: Neighbor 2001:db8:1::1 (dut) is in state Established
[PASS]    rr2: Neighbor 2001:db8:1::1 (dut) is in state Established
[PASS]    Test succeeded in 18.3 seconds

[prefix]  Check whether DUT1 propagates the external beacon prefix [ node(s): r1,r2,rr2 ]
[PASS]    r1: The prefix 2001:db8:cafe:e::/64 is in the BGP table
[PASS]    r2: The prefix 2001:db8:cafe:e::/64 is in the BGP table
[PASS]    rr2: The prefix 2001:db8:cafe:e::/64 is in the BGP table
[PASS]    Test succeeded in 0.3 seconds

[nhs]     Check next-hop handling on DUT [ node(s): r1,r2 ]
[PASS]    r1: The prefix 2001:db8:cafe:e::/64 is in the BGP table with BGP next hop=2001:db8:1::1/128
[PASS]    r2: The prefix 2001:db8:cafe:e::/64 is in the BGP table with BGP next hop=2001:db8:1::1/128
[PASS]    Test succeeded in 0.2 seconds

[reflect] Check route reflection on DUT [ node(s): r2 ]
[PASS]    r2: The prefix 2001:db8:cafe:1::/64 is in the BGP table with BGP router ID=10.0.0.1
[PASS]    Test succeeded in 0.1 seconds

[nhu]     Check next-hop handling of reflected routes [ node(s): r2 ]
[PASS]    r2: The prefix 2001:db8:cafe:1::/64 is in the BGP table with BGP router ID=10.0.0.1,BGP next hop=2001:db8:1::a/128
[PASS]    Test succeeded in 0.1 seconds

[cluster] Check cluster-id attribute in the BGP update from RR [ node(s): r2 ]
[PASS]    r2: The prefix 2001:db8:cafe:1::/64 is in the BGP table with BGP router ID=10.0.0.1,RR cluster ID=10.0.0.42
[PASS]    Test succeeded in 0.1 seconds

[SUCCESS] Tests passed: 12
