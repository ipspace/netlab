# SRv6 over IS-IS (optionally using L3VPN v4/v6) default settings and attributes
#
# Modeled similar to the MPLS module
#
requires: [ isis ]
config_after: [ vlan, isis, bgp ]
transform_after: [ vlan, bgp, vrf ]

attributes:
  global:
    af:
      _list_to_dict: True
      _alt_types: [ NoneType ]
      ipv4: bool
      ipv6: bool
    address_families: { type: list, true_value: [ ipv4, ipv6 ] }
    vpn: # BGP VPN v4/v6
      _alt_types: [ bool, BoxList ]
      ipv4: { type: list, true_value: [ ibgp ] }
      ipv6: { type: list, true_value: [ ibgp ] }

  node:
    af:
    locator: { type: ipv6, use: subnet_prefix }
    address_families:
    vpn:
    transit_only: bool

_top:
  # defaults:
    addressing:
      srv6_locator:
        ipv6: 2001:db8::/40  # Default address pool to allocate SRv6 locators from, see RFC 6890 â€“ Documentation Set
        prefix6: 48

features:
  vpn: Supports BGP L3VPN v4/v6 over SRv6
