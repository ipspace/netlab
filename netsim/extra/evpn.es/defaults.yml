# evpn.es: Support EVPN Ethernet Segments
#
---
devices:
  vjunos-switch:
    features.evpn.es:
      # support ES definition on LAG interfaces (ESI-LAG)
      lag: true
      # support ES definition on "standard" ethernet interfaces
      interface: true
      modes: [ 'all-active' ]

# data model:
# -- global: ethernet_segments
# -- on interface: es: xxx (must be a valid ethernet_segment reference)
attributes:
  global:
    ethernet_segmens:
      type: dict
      _keytype: str
      _subtype: _es_item
      _alt_types: [ bool ]
      true_value:
        auto: true

  # specific attributes
  _es_item:
    auto: bool
    id: esi_value

evpn:
  attributes:
    interface:
      es: str
