[adj]       Check IS-IS adjacencies [ node(s): x1,x2 ]
[PASS]      Validation succeeded on x1
[PASS]      Validation succeeded on x2
[PASS]      Test succeeded in 0.2 seconds

[pfx_l1_x1] Check L1 IS-IS prefix on X1 [ node(s): x1 ]
[WAITING]   Waiting for IS-IS SPF run (retrying for 45 seconds)
[WAITING]   Waiting for IS-IS SPF run (29 seconds left)
[WAITING]   Waiting for IS-IS SPF run (14 seconds left)
[FAIL]      Node x1: ipv4 prefix 10.0.0.3/32 is not in level-1 IS-IS database
Returned result
================================================================================
- algorithm: 0
  area: Gandalf
  level-1:
    area: Gandalf
    ipv4:
    - interface: '-'
      label(s): '-'
      metric: 0
      nextHop: '-'
      prefix: 10.0.0.2/32
    - interface: '-'
      label(s): '-'
      metric: 0
      nextHop: '-'
      prefix: 10.1.0.0/30
    ipv4-paths:
    - interface: ''
      metric: 0
      nextHop: ''
      parent: ''
      type: ''
      vertex: x1
    - interface: ''
      metric: 0
      nextHop: ''
      parent: x1(4)
      type: IP internal
      vertex: 10.0.0.2/32
    - interface: ''
      metric: 0
      nextHop: ''
      parent: x1(4)
      type: IP internal
      vertex: 10.1.0.0/30
  vrf_id: 0


[pfx_l2_x1] Check L2 IS-IS prefix on X1 [ node(s): x1 ]
[PASS]      Validation succeeded on x1
[PASS]      Test succeeded in 0.1 seconds

[pfx_l1_x2] Check L1 IS-IS prefix on X2 [ node(s): x2 ]
[WAITING]   Waiting for IS-IS SPF run (retrying for 30 seconds)
[WAITING]   Waiting for IS-IS SPF run (14 seconds left)
[FAIL]      Node x2: ipv4 prefix 10.0.0.2/32 is not in level-1 IS-IS database
Returned result
================================================================================
- algorithm: 0
  area: Gandalf
  level-1:
    area: Gandalf
    ipv4:
    - interface: '-'
      label(s): '-'
      metric: 0
      nextHop: '-'
      prefix: 10.0.0.3/32
    - interface: '-'
      label(s): '-'
      metric: 0
      nextHop: '-'
      prefix: 10.1.0.4/30
    ipv4-paths:
    - interface: ''
      metric: 0
      nextHop: ''
      parent: ''
      type: ''
      vertex: x2
    - interface: ''
      metric: 0
      nextHop: ''
      parent: x2(4)
      type: IP internal
      vertex: 10.0.0.3/32
    - interface: ''
      metric: 0
      nextHop: ''
      parent: x2(4)
      type: IP internal
      vertex: 10.1.0.4/30
  vrf_id: 0


[pfx_l2_x2] Check L2 IS-IS prefix on X2 [ node(s): x2 ]
[PASS]      Validation succeeded on x2
[PASS]      Test succeeded in 0.1 seconds

[c_x1_l1]   Check level-1 cost X2 => X1 [ node(s): x1 ]
[FAIL]      Node x1: ipv4 prefix 10.0.0.3/32 is not in level-1 IS-IS database
Returned result
================================================================================
- algorithm: 0
  area: Gandalf
  level-1:
    area: Gandalf
    ipv4:
    - interface: '-'
      label(s): '-'
      metric: 0
      nextHop: '-'
      prefix: 10.0.0.2/32
    - interface: '-'
      label(s): '-'
      metric: 0
      nextHop: '-'
      prefix: 10.1.0.0/30
    ipv4-paths:
    - interface: ''
      metric: 0
      nextHop: ''
      parent: ''
      type: ''
      vertex: x1
    - interface: ''
      metric: 0
      nextHop: ''
      parent: x1(4)
      type: IP internal
      vertex: 10.0.0.2/32
    - interface: ''
      metric: 0
      nextHop: ''
      parent: x1(4)
      type: IP internal
      vertex: 10.1.0.0/30
  vrf_id: 0


[c_x1_l2]   Check level-2 cost X2 => X1 [ node(s): x1 ]
[FAIL]      Node x1: Invalid cost for prefix 10.0.0.3/32: expected 150010 found 70073
Returned result
================================================================================
- algorithm: 0
  area: Gandalf
  level-2:
    area: Gandalf
    ipv4:
    - interface: eth1
      label(s): '-'
      metric: 70000
      nextHop: 10.1.0.1
      prefix: 10.0.0.1/32
    - interface: '-'
      label(s): '-'
      metric: 0
      nextHop: '-'
      prefix: 10.0.0.2/32
    - interface: eth1
      label(s): '-'
      metric: 70073
      nextHop: 10.1.0.1
      prefix: 10.0.0.3/32
    - interface: eth1
      label(s): '-'
      metric: 70017
      nextHop: 10.1.0.1
      prefix: 10.1.0.0/30
    - interface: eth1
      label(s): '-'
      metric: 70063
      nextHop: 10.1.0.1
      prefix: 10.1.0.4/30
    ipv4-paths:
    - interface: ''
      metric: 0
      nextHop: ''
      parent: ''
      type: ''
      vertex: x1
    - interface: ''
      metric: 0
      nextHop: ''
      parent: x1(4)
      type: IP internal
      vertex: 10.0.0.2/32
    - interface: ''
      metric: 0
      nextHop: ''
      parent: x1(4)
      type: IP internal
      vertex: 10.1.0.0/30
    - interface: eth1
      metric: 70000
      nextHop: dut
      parent: x1(4)
      type: TE-IS
      vertex: dut
    - interface: eth1
      metric: 70000
      nextHop: dut
      parent: dut(4)
      type: IP TE
      vertex: 10.0.0.1/32
    - interface: eth1
      metric: 70017
      nextHop: dut
      parent: dut(4)
      type: IP TE
      vertex: 10.1.0.0/30
    - interface: eth1
      metric: 70063
      nextHop: dut
      parent: dut(4)
      type: TE-IS
      vertex: x2
    - interface: eth1
      metric: 70063
      nextHop: dut
      parent: dut(4)
      type: IP TE
      vertex: 10.1.0.4/30
    - interface: eth1
      metric: 70073
      nextHop: dut
      parent: x2(4)
      type: IP TE
      vertex: 10.0.0.3/32
  vrf_id: 0


[c_x2_l1]   Check level-1 cost X1 => X2 [ node(s): x2 ]
[FAIL]      Node x2: ipv4 prefix 10.0.0.2/32 is not in level-1 IS-IS database
Returned result
================================================================================
- algorithm: 0
  area: Gandalf
  level-1:
    area: Gandalf
    ipv4:
    - interface: '-'
      label(s): '-'
      metric: 0
      nextHop: '-'
      prefix: 10.0.0.3/32
    - interface: '-'
      label(s): '-'
      metric: 0
      nextHop: '-'
      prefix: 10.1.0.4/30
    ipv4-paths:
    - interface: ''
      metric: 0
      nextHop: ''
      parent: ''
      type: ''
      vertex: x2
    - interface: ''
      metric: 0
      nextHop: ''
      parent: x2(4)
      type: IP internal
      vertex: 10.0.0.3/32
    - interface: ''
      metric: 0
      nextHop: ''
      parent: x2(4)
      type: IP internal
      vertex: 10.1.0.4/30
  vrf_id: 0


[c_x2_l2]   Check level-2 cost X1 => X2 [ node(s): x2 ]
[PASS]      Validation succeeded on x2
[PASS]      Test succeeded in 0.1 seconds

[FAIL]      10 tests completed, 5 tests failed
