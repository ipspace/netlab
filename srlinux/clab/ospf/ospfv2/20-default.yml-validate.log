[adj_a]       Check OSPF adjacencies with DUT_A [ node(s): probe ]
[PASS]        probe: Neighbor 10.0.0.1 is in state Full/-
[PASS]        Test succeeded

[adj_c]       Check OSPF adjacencies with DUT_C [ node(s): probe ]
[PASS]        probe: Neighbor 10.0.0.2 is in state Full/-
[PASS]        Test succeeded

[adj_x]       Check EBGP sessions with DUT_C [ node(s): xf ]
[PASS]        xf: Neighbor 10.1.0.9 (dut_c) is in state Established
[PASS]        Test succeeded

[df_a]        Do we have at least some default route? [ node(s): probe ]
[WAITING]     Wait for SPF to complete (retrying for 10 seconds)
[PASS]        probe: The prefix 0.0.0.0/0 is in the OSPF topology
[PASS]        Succeeded in 5.6 seconds
[PASS]        Test succeeded

[df_a_cost]   Check for the cost/metric of always-present default route [ node(s): probe ]
[WARNING]     Node probe: There is no path to 0.0.0.0/0 in the OSPF topology with cost=40
Returned result
================================================================================
0.0.0.0/0:
  cost: 10
  nexthops:
  - advertisedRouter: 10.0.0.1
    ip: 10.1.0.1
    via: eth1
  routeType: N E2
  tag: 0
  type2cost: 1
10.0.0.1:
  area: 0.0.0.0
  cost: 10
  nexthops:
  - ip: 10.1.0.1
    via: eth1
  routeType: 'R '
  routerType: asbr
10.0.0.1/32:
  area: 0.0.0.0
  cost: 10
  nexthops:
  - advertisedRouter: 10.0.0.1
    ip: 10.1.0.1
    via: eth1
  routeType: N
  transit: false
10.0.0.2:
  area: 0.0.0.0
  cost: 10
  nexthops:
  - ip: 10.1.0.5
    via: eth2
  routeType: 'R '
  routerType: asbr
10.0.0.2/32:
  area: 0.0.0.0
  cost: 10
  nexthops:
  - advertisedRouter: 10.0.0.2
    ip: 10.1.0.5
    via: eth2
  routeType: N
  transit: false
10.0.0.3/32:
  area: 0.0.0.0
  cost: 0
  nexthops:
  - directlyAttachedTo: lo
    ip: ' '
  routeType: N
  transit: false
10.1.0.0/30:
  area: 0.0.0.0
  cost: 10
  nexthops:
  - directlyAttachedTo: eth1
    ip: ' '
  routeType: N
  transit: false
10.1.0.4/30:
  area: 0.0.0.0
  cost: 10
  nexthops:
  - directlyAttachedTo: eth2
    ip: ' '
  routeType: N
  transit: false


[p_eth1_down] Shut down the link to DUT_A [ node(s): probe ]

[bgp_dr]      Enable BGP default route [ node(s): xf ]
[INFO]        Executing configuration snippet bgp_default
[PASS]        BGP default route is sent to BGP neighbors

[df_c]        Check for the conditional default route [ node(s): probe ]
[WAITING]     Wait for SPF to complete (retrying for 10 seconds)
[PASS]        probe: The prefix 0.0.0.0/0 is in the OSPF topology
[PASS]        Succeeded in 2.3 seconds
[PASS]        Test succeeded

[df_c_cost]   Check for the cost/metric of the conditional default route [ node(s): probe ]
[WARNING]     Node probe: There is no path to 0.0.0.0/0 in the OSPF topology with cost=30
Returned result
================================================================================
0.0.0.0/0:
  cost: 10
  nexthops:
  - advertisedRouter: 10.0.0.2
    ip: 10.1.0.5
    via: eth2
  routeType: N E2
  tag: 0
  type2cost: 1
10.0.0.2:
  area: 0.0.0.0
  cost: 10
  nexthops:
  - ip: 10.1.0.5
    via: eth2
  routeType: 'R '
  routerType: asbr
10.0.0.2/32:
  area: 0.0.0.0
  cost: 10
  nexthops:
  - advertisedRouter: 10.0.0.2
    ip: 10.1.0.5
    via: eth2
  routeType: N
  transit: false
10.0.0.3/32:
  area: 0.0.0.0
  cost: 0
  nexthops:
  - directlyAttachedTo: lo
    ip: ' '
  routeType: N
  transit: false
10.1.0.4/30:
  area: 0.0.0.0
  cost: 10
  nexthops:
  - directlyAttachedTo: eth2
    ip: ' '
  routeType: N
  transit: false


[bgp_ndr]     Disable BGP default route [ node(s): xf ]
[INFO]        Executing configuration snippet bgp_default
[PASS]        BGP default route is no longer sent to BGP neighbors

[p_eth1_up]   Enable the link to DUT_A [ node(s): probe ]

[INFO]        2 tests out of 9 tests generated a warning
