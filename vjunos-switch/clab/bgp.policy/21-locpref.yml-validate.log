[ebgp_v4]       Check IPv4 EBGP sessions with DUT [ node(s): x1,x2 ]
[PASS]          x1: Neighbor 10.1.0.1 (dut) is in state Established
[PASS]          x2: Neighbor 10.1.0.5 (dut) is in state Established
[PASS]          Test succeeded in 3.4 seconds

[ebgp_v6]       Check IPv6 EBGP sessions with DUT [ node(s): x1,x2 ]
[PASS]          x2: Neighbor 2001:db8:3:1::1 (dut) is in state Established
[PASS]          x1: Neighbor 2001:db8:3::1 (dut) is in state Established
[PASS]          Test succeeded in 1.0 seconds

[ibgp_v4]       Check IBGP IPv4 sessions with DUT [ node(s): probe ]
[PASS]          probe: Neighbor 10.0.0.1 (dut) is in state Established
[PASS]          Test succeeded in 0.9 seconds

[ibgp_v6]       Check IBGP IPv6 sessions with DUT [ node(s): probe ]
[PASS]          probe: Neighbor 2001:db8:1:1::1 (dut) is in state Established
[PASS]          Test succeeded in 3.1 seconds

[pfx_x1_v4]     Check for IPv4 X1 prefix on Probe [ node(s): probe ]
[PASS]          probe: The prefix 172.42.42.0/24 is in the BGP table
[PASS]          Test succeeded in 0.1 seconds

[pfx_x1_v6]     Check for IPv6 X1 prefix on Probe [ node(s): probe ]
[PASS]          probe: The prefix 2001:db8:cafe:42::/64 is in the BGP table
[PASS]          Test succeeded in 0.1 seconds

[pfx_x2_v4]     Check for IPv4 X2 prefix on Probe [ node(s): probe ]
[PASS]          probe: The prefix 172.42.43.0/24 is in the BGP table
[PASS]          Test succeeded in 0.1 seconds

[pfx_x2_v6]     Check for IPv6 X2 prefix on Probe [ node(s): probe ]
[PASS]          probe: The prefix 2001:db8:cafe:43::/64 is in the BGP table
[PASS]          Test succeeded in 0.1 seconds

[locpref_x1_v4] Check for node-wide locpref set on IPv4 X1 prefix [ node(s): probe ]
[PASS]          probe: The prefix 172.42.42.0/24 is in the BGP table with BGP local preference=17
[PASS]          Test succeeded in 0.1 seconds

[locpref_x1_v6] Check for node-wide locpref set on IPv6 X1 prefix [ node(s): probe ]
[PASS]          probe: The prefix 2001:db8:cafe:42::/64 is in the BGP table with BGP local preference=17
[PASS]          Test succeeded in 0.1 seconds

[locpref_x2_v4] Check for session-level locpref set on IPv4 X2 prefix [ node(s): probe ]
[FAIL]          Node probe: There is no path to 172.42.43.0/24 in the BGP table with BGP local preference=42
Returned result
================================================================================
paths:
- aspath:
    length: 1
    segments:
    - list:
      - 65101
      type: as-sequence
    string: '65101'
  bestpath:
    bestpathFromAs: 65101
    overall: true
    selectionReason: First path received
  lastUpdate:
    epoch: 1743766030
    string: 'Fri Apr  4 11:27:10 2025

      '
  locPrf: 17
  metric: 0
  nexthops:
  - accessible: true
    afi: ipv4
    ip: 10.0.0.1
    metric: 10
    used: true
  origin: IGP
  peer:
    peerId: 10.0.0.1
    routerId: 10.0.0.1
    type: internal
  valid: true
  version: 3
prefix: 172.42.43.0/24
version: 3


[locpref_x2_v6] Check for session-level locpref set on IPv4 X2 prefix [ node(s): probe ]
[FAIL]          Node probe: There is no path to 2001:db8:cafe:43::/64 in the BGP table with BGP local preference=42
Returned result
================================================================================
paths:
- aspath:
    length: 1
    segments:
    - list:
      - 65101
      type: as-sequence
    string: '65101'
  bestpath:
    bestpathFromAs: 65101
    overall: true
    selectionReason: First path received
  lastUpdate:
    epoch: 1743766033
    string: 'Fri Apr  4 11:27:13 2025

      '
  locPrf: 17
  metric: 0
  nexthops:
  - accessible: true
    afi: ipv6
    ip: 2001:db8:1:1::1
    metric: 10
    scope: global
    used: true
  origin: IGP
  peer:
    peerId: 2001:db8:1:1::1
    routerId: 10.0.0.1
    type: internal
  valid: true
  version: 4
prefix: 2001:db8:cafe:43::/64
version: 4


[FAIL]          14 tests completed, 2 tests failed
