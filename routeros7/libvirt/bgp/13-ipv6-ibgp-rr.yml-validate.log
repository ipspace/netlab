[session] Check BGP sessions with DUT1 [ node(s): r1,r2,rr2,x1 ]
[WAITING] Wait for BGP sessions to be established (retrying for 30 seconds)
[WAITING] Wait for BGP sessions to be established (14 seconds left)
[FAIL]    Node r1: The neighbor 2001:db8:1::1 (dut)  is in state Active (expected Established)
Returned result
================================================================================
ipv6Unicast:
  routerId: 10.0.0.10
  as: 65000
  vrfId: 0
  vrfName: default
  tableVersion: 2
  ribCount: 7
  ribMemory: 896
  peerCount: 2
  peerMemory: 33808
  peers:
    2001:db8:1::1:
      softwareVersion: n/a
      remoteAs: 65000
      localAs: 65000
      version: 4
      msgRcvd: 0
      msgSent: 0
      tableVersion: 0
      outq: 0
      inq: 0
      peerUptime: never
      peerUptimeMsec: 0
      pfxRcd: 0
      pfxSnt: 0
      state: Active
      peerState: OK
      connectionsEstablished: 0
      connectionsDropped: 0
      desc: dut
      idType: ipv6
    2001:db8:1::2:
      hostname: rr2
      softwareVersion: FRRouting/10.4.1_git
      remoteAs: 65000
      localAs: 65000
      version: 4
      msgRcvd: 12
      msgSent: 10
      tableVersion: 2
      outq: 0
      inq: 0
      peerUptime: 00:00:20
      peerUptimeMsec: 20000
      peerUptimeEstablishedEpoch: 1762548857
      pfxRcd: 2
      pfxSnt: 2
      state: Established
      peerState: OK
      connectionsEstablished: 1
      connectionsDropped: 0
      desc: rr2
      idType: ipv6
  failedPeers: 1
  displayedPeers: 2
  totalPeers: 2
  dynamicPeers: 0
  bestPath:
    multiPathRelax: 'true'

[FAIL]    Node r2: The neighbor 2001:db8:1::1 (dut)  is in state Active (expected Established)
Returned result
================================================================================
ipv6Unicast:
  routerId: 10.0.0.3
  as: 65000
  vrfId: 0
  vrfName: default
  tableVersion: 2
  ribCount: 7
  ribMemory: 896
  peerCount: 2
  peerMemory: 33808
  peers:
    2001:db8:1::1:
      softwareVersion: n/a
      remoteAs: 65000
      localAs: 65000
      version: 4
      msgRcvd: 0
      msgSent: 0
      tableVersion: 0
      outq: 0
      inq: 0
      peerUptime: never
      peerUptimeMsec: 0
      pfxRcd: 0
      pfxSnt: 0
      state: Active
      peerState: OK
      connectionsEstablished: 0
      connectionsDropped: 0
      desc: dut
      idType: ipv6
    2001:db8:1::2:
      hostname: rr2
      softwareVersion: FRRouting/10.4.1_git
      remoteAs: 65000
      localAs: 65000
      version: 4
      msgRcvd: 12
      msgSent: 10
      tableVersion: 2
      outq: 0
      inq: 0
      peerUptime: 00:00:20
      peerUptimeMsec: 20000
      peerUptimeEstablishedEpoch: 1762548857
      pfxRcd: 3
      pfxSnt: 1
      state: Established
      peerState: OK
      connectionsEstablished: 1
      connectionsDropped: 0
      desc: rr2
      idType: ipv6
  failedPeers: 1
  displayedPeers: 2
  totalPeers: 2
  dynamicPeers: 0
  bestPath:
    multiPathRelax: 'true'

[FAIL]    Node rr2: The neighbor 2001:db8:1::1 (dut)  is in state Active (expected Established)
Returned result
================================================================================
ipv6Unicast:
  routerId: 10.0.0.2
  as: 65000
  vrfId: 0
  vrfName: default
  tableVersion: 4
  ribCount: 7
  ribMemory: 896
  peerCount: 3
  peerMemory: 50712
  peers:
    2001:db8:1::1:
      softwareVersion: n/a
      remoteAs: 65000
      localAs: 65000
      version: 4
      msgRcvd: 0
      msgSent: 0
      tableVersion: 0
      outq: 0
      inq: 0
      peerUptime: never
      peerUptimeMsec: 0
      pfxRcd: 0
      pfxSnt: 0
      state: Active
      peerState: OK
      connectionsEstablished: 0
      connectionsDropped: 0
      desc: dut
      idType: ipv6
    2001:db8:1::3:
      hostname: r2
      softwareVersion: FRRouting/10.4.1_git
      remoteAs: 65000
      localAs: 65000
      version: 4
      msgRcvd: 10
      msgSent: 13
      tableVersion: 4
      outq: 0
      inq: 0
      peerUptime: 00:00:20
      peerUptimeMsec: 20000
      peerUptimeEstablishedEpoch: 1762548858
      pfxRcd: 1
      pfxSnt: 4
      state: Established
      peerState: OK
      connectionsEstablished: 1
      connectionsDropped: 0
      desc: r2
      idType: ipv6
    2001:db8:1::a:
      hostname: r1
      softwareVersion: FRRouting/10.4.1_git
      remoteAs: 65000
      localAs: 65000
      version: 4
      msgRcvd: 10
      msgSent: 13
      tableVersion: 4
      outq: 0
      inq: 0
      peerUptime: 00:00:20
      peerUptimeMsec: 20000
      peerUptimeEstablishedEpoch: 1762548858
      pfxRcd: 2
      pfxSnt: 4
      state: Established
      peerState: OK
      connectionsEstablished: 1
      connectionsDropped: 0
      desc: r1
      idType: ipv6
  failedPeers: 1
  displayedPeers: 3
  totalPeers: 3
  dynamicPeers: 0
  bestPath:
    multiPathRelax: 'true'

[FAIL]    Node x1: The neighbor 2001:db8:3:3::1 (dut)  is in state Active (expected Established)
Returned result
================================================================================
ipv6Unicast:
  routerId: 10.0.0.4
  as: 65101
  vrfId: 0
  vrfName: default
  tableVersion: 1
  ribCount: 1
  ribMemory: 128
  peerCount: 1
  peerMemory: 16904
  peers:
    2001:db8:3:3::1:
      softwareVersion: n/a
      remoteAs: 65000
      localAs: 65101
      version: 4
      msgRcvd: 0
      msgSent: 0
      tableVersion: 0
      outq: 0
      inq: 0
      peerUptime: never
      peerUptimeMsec: 0
      pfxRcd: 0
      pfxSnt: 0
      state: Active
      peerState: OK
      connectionsEstablished: 0
      connectionsDropped: 0
      desc: dut
      idType: ipv6
  failedPeers: 1
  displayedPeers: 1
  totalPeers: 1
  dynamicPeers: 0
  bestPath:
    multiPathRelax: 'true'


[prefix]  Check whether DUT1 propagates the external beacon prefix [ node(s): r1,r2,rr2 ]
[WAITING] Wait for BGP convergence (retrying for 5 seconds)
[FAIL]    Node r1: The prefix 2001:db8:cafe:e::/64 is not in the BGP table
Returned result
================================================================================
{}

[FAIL]    Node r2: The prefix 2001:db8:cafe:e::/64 is not in the BGP table
Returned result
================================================================================
{}

[FAIL]    Node rr2: The prefix 2001:db8:cafe:e::/64 is not in the BGP table
Returned result
================================================================================
{}


[nhs]     Check next-hop handling on DUT [ node(s): r1,r2 ]
[WAITING] Wait for BGP convergence (retrying for 5 seconds)
[FAIL]    Node r1: The prefix 2001:db8:cafe:e::/64 is not in the BGP table
Returned result
================================================================================
{}

[FAIL]    Node r2: The prefix 2001:db8:cafe:e::/64 is not in the BGP table
Returned result
================================================================================
{}


[reflect] Check route reflection on DUT [ node(s): r2 ]
[WAITING] Wait for BGP convergence (retrying for 5 seconds)
[FAIL]    Node r2: There is no path to 2001:db8:cafe:1::/64 in the BGP table with BGP router ID=10.0.0.1
Returned result
================================================================================
prefix: 2001:db8:cafe:1::/64
version: 2
pathCount: 1
paths:
- aspath:
    string: Local
    segments: []
    length: 0
  origin: IGP
  metric: 0
  locPrf: 100
  valid: true
  version: 2
  bestpath:
    bestpathFromAs: 0
    overall: true
    selectionReason: First path received
  originatorId: 10.0.0.10
  clusterList:
    list:
    - 10.0.0.43
  lastUpdate:
    epoch: 1762548859
    string: Fri Nov  7 20:54:19 2025
  nexthops:
  - ip: 2001:db8:1::a
    hostname: rr2
    afi: ipv6
    scope: global
    linkLocalOnly: false
    length: 16
    metric: 10
    accessible: true
    used: true
  peer:
    peerId: 2001:db8:1::2
    routerId: 10.0.0.2
    hostname: rr2
    type: internal


[nhu]     Check next-hop handling of reflected routes [ node(s): r2 ]
[FAIL]    Node r2: There is no path to 2001:db8:cafe:1::/64 in the BGP table with BGP router ID=10.0.0.1
Returned result
================================================================================
prefix: 2001:db8:cafe:1::/64
version: 2
pathCount: 1
paths:
- aspath:
    string: Local
    segments: []
    length: 0
  origin: IGP
  metric: 0
  locPrf: 100
  valid: true
  version: 2
  bestpath:
    bestpathFromAs: 0
    overall: true
    selectionReason: First path received
  originatorId: 10.0.0.10
  clusterList:
    list:
    - 10.0.0.43
  lastUpdate:
    epoch: 1762548859
    string: Fri Nov  7 20:54:19 2025
  nexthops:
  - ip: 2001:db8:1::a
    hostname: rr2
    afi: ipv6
    scope: global
    linkLocalOnly: false
    length: 16
    metric: 10
    accessible: true
    used: true
  peer:
    peerId: 2001:db8:1::2
    routerId: 10.0.0.2
    hostname: rr2
    type: internal


[cluster] Check cluster-id attribute in the BGP update from RR [ node(s): r2 ]
[FAIL]    Node r2: There is no path to 2001:db8:cafe:1::/64 in the BGP table with BGP router ID=10.0.0.1
Returned result
================================================================================
prefix: 2001:db8:cafe:1::/64
version: 2
pathCount: 1
paths:
- aspath:
    string: Local
    segments: []
    length: 0
  origin: IGP
  metric: 0
  locPrf: 100
  valid: true
  version: 2
  bestpath:
    bestpathFromAs: 0
    overall: true
    selectionReason: First path received
  originatorId: 10.0.0.10
  clusterList:
    list:
    - 10.0.0.43
  lastUpdate:
    epoch: 1762548859
    string: Fri Nov  7 20:54:19 2025
  nexthops:
  - ip: 2001:db8:1::a
    hostname: rr2
    afi: ipv6
    scope: global
    linkLocalOnly: false
    length: 16
    metric: 10
    accessible: true
    used: true
  peer:
    peerId: 2001:db8:1::2
    routerId: 10.0.0.2
    hostname: rr2
    type: internal


[FAIL]    12 tests completed, 12 tests failed
