[ospf_adj_dut] Check OSPF adjacencies with DUT [ node(s): r1 ]
[WAITING]      Waiting for OSPF adjacency process to complete (retrying for 30 seconds)
[PASS]         r1: OSPFv2 neighbor 10.0.0.1 is in state Full/-
[PASS]         Test succeeded in 3.4 seconds

[ospf_adj_r1]  Check OSPF adjacencies with R1 [ node(s): r2,rr2 ]
[PASS]         rr2: OSPFv2 neighbor 10.0.0.10 is in state Full/-
[WAITING]      Waiting for OSPF adjacency process to complete (retrying for 30 seconds)
[PASS]         r2: OSPFv2 neighbor 10.0.0.10 is in state Full/-
[PASS]         Test succeeded in 1.3 seconds

[session]      Check BGP sessions with DUT [ node(s): r1,r2,rr2,x1 ]
[WAITING]      Wait for BGP sessions to be established (retrying for 30 seconds)
[WAITING]      Wait for BGP sessions to be established (14 seconds left)
[FAIL]         Node r1: The neighbor 10.0.0.1 (dut)  is in state Active (expected Established)
Returned result
================================================================================
ipv4Unicast:
  routerId: 10.0.0.10
  as: 65000
  vrfId: 0
  vrfName: default
  tableVersion: 2
  ribCount: 7
  ribMemory: 896
  peerCount: 2
  peerMemory: 33808
  peers:
    10.0.0.1:
      softwareVersion: n/a
      remoteAs: 65000
      localAs: 65000
      version: 4
      msgRcvd: 0
      msgSent: 0
      tableVersion: 0
      outq: 0
      inq: 0
      peerUptime: never
      peerUptimeMsec: 0
      pfxRcd: 0
      pfxSnt: 0
      state: Active
      peerState: Passive
      connectionsEstablished: 0
      connectionsDropped: 0
      desc: dut
      idType: ipv4
    10.0.0.2:
      hostname: rr2
      softwareVersion: FRRouting/10.4.1_git
      remoteAs: 65000
      localAs: 65000
      version: 4
      msgRcvd: 19
      msgSent: 19
      tableVersion: 2
      outq: 0
      inq: 0
      peerUptime: 00:00:33
      peerUptimeMsec: 33000
      peerUptimeEstablishedEpoch: 1762548311
      pfxRcd: 2
      pfxSnt: 2
      state: Established
      peerState: Passive
      connectionsEstablished: 2
      connectionsDropped: 1
      desc: rr2
      idType: ipv4
  failedPeers: 1
  displayedPeers: 2
  totalPeers: 2
  dynamicPeers: 0
  bestPath:
    multiPathRelax: 'true'

[FAIL]         Node r2: The neighbor 10.0.0.1 (dut)  is in state Active (expected Established)
Returned result
================================================================================
ipv4Unicast:
  routerId: 10.0.0.3
  as: 65000
  vrfId: 0
  vrfName: default
  tableVersion: 2
  ribCount: 7
  ribMemory: 896
  peerCount: 2
  peerMemory: 33808
  peers:
    10.0.0.1:
      softwareVersion: n/a
      remoteAs: 65000
      localAs: 65000
      version: 4
      msgRcvd: 0
      msgSent: 0
      tableVersion: 0
      outq: 0
      inq: 0
      peerUptime: never
      peerUptimeMsec: 0
      pfxRcd: 0
      pfxSnt: 0
      state: Active
      peerState: OK
      connectionsEstablished: 0
      connectionsDropped: 0
      desc: dut
      idType: ipv4
    10.0.0.2:
      hostname: rr2
      softwareVersion: FRRouting/10.4.1_git
      remoteAs: 65000
      localAs: 65000
      version: 4
      msgRcvd: 14
      msgSent: 13
      tableVersion: 2
      outq: 0
      inq: 0
      peerUptime: 00:00:25
      peerUptimeMsec: 25000
      peerUptimeEstablishedEpoch: 1762548319
      pfxRcd: 3
      pfxSnt: 1
      state: Established
      peerState: OK
      connectionsEstablished: 1
      connectionsDropped: 0
      desc: rr2
      idType: ipv4
  failedPeers: 1
  displayedPeers: 2
  totalPeers: 2
  dynamicPeers: 0
  bestPath:
    multiPathRelax: 'true'

[FAIL]         Node rr2: The neighbor 10.0.0.1 (dut)  is in state Active (expected Established)
Returned result
================================================================================
ipv4Unicast:
  routerId: 10.0.0.2
  as: 65000
  vrfId: 0
  vrfName: default
  tableVersion: 4
  ribCount: 7
  ribMemory: 896
  peerCount: 3
  peerMemory: 50712
  peers:
    10.0.0.1:
      softwareVersion: n/a
      remoteAs: 65000
      localAs: 65000
      version: 4
      msgRcvd: 0
      msgSent: 0
      tableVersion: 0
      outq: 0
      inq: 0
      peerUptime: never
      peerUptimeMsec: 0
      pfxRcd: 0
      pfxSnt: 0
      state: Active
      peerState: OK
      connectionsEstablished: 0
      connectionsDropped: 0
      desc: dut
      idType: ipv4
    10.0.0.3:
      hostname: r2
      softwareVersion: FRRouting/10.4.1_git
      remoteAs: 65000
      localAs: 65000
      version: 4
      msgRcvd: 12
      msgSent: 14
      tableVersion: 4
      outq: 0
      inq: 0
      peerUptime: 00:00:26
      peerUptimeMsec: 26000
      peerUptimeEstablishedEpoch: 1762548318
      pfxRcd: 1
      pfxSnt: 4
      state: Established
      peerState: OK
      connectionsEstablished: 1
      connectionsDropped: 0
      desc: r2
      idType: ipv4
    10.0.0.10:
      hostname: r1
      softwareVersion: FRRouting/10.4.1_git
      remoteAs: 65000
      localAs: 65000
      version: 4
      msgRcvd: 19
      msgSent: 19
      tableVersion: 4
      outq: 0
      inq: 0
      peerUptime: 00:00:34
      peerUptimeMsec: 34000
      peerUptimeEstablishedEpoch: 1762548310
      pfxRcd: 2
      pfxSnt: 4
      state: Established
      peerState: OK
      connectionsEstablished: 2
      connectionsDropped: 1
      desc: r1
      idType: ipv4
  failedPeers: 1
  displayedPeers: 3
  totalPeers: 3
  dynamicPeers: 0
  bestPath:
    multiPathRelax: 'true'

[FAIL]         Node x1: The neighbor 10.1.0.13 (dut)  is in state Active (expected Established)
Returned result
================================================================================
ipv4Unicast:
  routerId: 172.42.42.1
  as: 65101
  vrfId: 0
  vrfName: default
  tableVersion: 1
  ribCount: 1
  ribMemory: 128
  peerCount: 1
  peerMemory: 16904
  peers:
    10.1.0.13:
      softwareVersion: n/a
      remoteAs: 65000
      localAs: 65101
      version: 4
      msgRcvd: 0
      msgSent: 0
      tableVersion: 0
      outq: 0
      inq: 0
      peerUptime: never
      peerUptimeMsec: 0
      pfxRcd: 0
      pfxSnt: 0
      state: Active
      peerState: OK
      connectionsEstablished: 0
      connectionsDropped: 0
      desc: dut
      idType: ipv4
  failedPeers: 1
  displayedPeers: 1
  totalPeers: 1
  dynamicPeers: 0
  bestPath:
    multiPathRelax: 'true'


[prefix]       Check whether DUT propagates the external beacon prefix [ node(s): r1,r2,rr2 ]
[WAITING]      Wait for BGP convergence (retrying for 5 seconds)
[FAIL]         Node r1: The prefix 172.42.42.0/24 is not in the BGP table
Returned result
================================================================================
{}

[FAIL]         Node r2: The prefix 172.42.42.0/24 is not in the BGP table
Returned result
================================================================================
{}

[FAIL]         Node rr2: The prefix 172.42.42.0/24 is not in the BGP table
Returned result
================================================================================
{}


[nhs]          Check next-hop handling on DUT [ node(s): r1,r2 ]
[WAITING]      Wait for BGP convergence (retrying for 5 seconds)
[FAIL]         Node r1: The prefix 172.42.42.0/24 is not in the BGP table
Returned result
================================================================================
{}

[FAIL]         Node r2: The prefix 172.42.42.0/24 is not in the BGP table
Returned result
================================================================================
{}


[reflect]      Check route reflection on DUT [ node(s): r2 ]
[FAIL]         Node r2: There is no path to 172.0.42.0/24 in the BGP table with BGP router ID=10.0.0.1
Returned result
================================================================================
prefix: 172.0.42.0/24
version: 2
pathCount: 1
paths:
- aspath:
    string: Local
    segments: []
    length: 0
  origin: IGP
  metric: 0
  locPrf: 100
  valid: true
  version: 2
  bestpath:
    bestpathFromAs: 0
    overall: true
    selectionReason: First path received
  originatorId: 10.0.0.10
  clusterList:
    list:
    - 10.0.0.43
  lastUpdate:
    epoch: 1762548320
    string: Fri Nov  7 20:45:20 2025
  nexthops:
  - ip: 10.0.0.10
    hostname: rr2
    afi: ipv4
    metric: 10
    accessible: true
    used: true
  peer:
    peerId: 10.0.0.2
    routerId: 10.0.0.2
    hostname: rr2
    type: internal


[inact]        Check route reflection of inactive routes on DUT [ node(s): r2 ]
[WARNING]      Node r2: There is no path to 10.0.0.10/32 in the BGP table with BGP router ID=10.0.0.1
Returned result
================================================================================
prefix: 10.0.0.10/32
version: 0
pathCount: 1
paths:
- aspath:
    string: Local
    segments: []
    length: 0
  origin: IGP
  metric: 0
  locPrf: 100
  valid: false
  version: 0
  originatorId: 10.0.0.10
  clusterList:
    list:
    - 10.0.0.43
  lastUpdate:
    epoch: 1762548319
    string: Fri Nov  7 20:45:19 2025
  nexthops:
  - ip: 10.0.0.10
    hostname: rr2
    afi: ipv4
    accessible: false
    importCheckEnabled: true
    used: true
  peer:
    peerId: 10.0.0.2
    routerId: 10.0.0.2
    hostname: rr2
    type: internal


[nhu]          Check next-hop handling of reflected routes [ node(s): r2 ]
[FAIL]         Node r2: There is no path to 172.0.42.0/24 in the BGP table with BGP router ID=10.0.0.1
Returned result
================================================================================
prefix: 172.0.42.0/24
version: 2
pathCount: 1
paths:
- aspath:
    string: Local
    segments: []
    length: 0
  origin: IGP
  metric: 0
  locPrf: 100
  valid: true
  version: 2
  bestpath:
    bestpathFromAs: 0
    overall: true
    selectionReason: First path received
  originatorId: 10.0.0.10
  clusterList:
    list:
    - 10.0.0.43
  lastUpdate:
    epoch: 1762548319
    string: Fri Nov  7 20:45:19 2025
  nexthops:
  - ip: 10.0.0.10
    hostname: rr2
    afi: ipv4
    metric: 10
    accessible: true
    used: true
  peer:
    peerId: 10.0.0.2
    routerId: 10.0.0.2
    hostname: rr2
    type: internal


[cluster]      Check cluster-id attribute in the BGP update from RR [ node(s): r2 ]
[FAIL]         Node r2: There is no path to 172.0.42.0/24 in the BGP table with BGP router ID=10.0.0.1
Returned result
================================================================================
prefix: 172.0.42.0/24
version: 2
pathCount: 1
paths:
- aspath:
    string: Local
    segments: []
    length: 0
  origin: IGP
  metric: 0
  locPrf: 100
  valid: true
  version: 2
  bestpath:
    bestpathFromAs: 0
    overall: true
    selectionReason: First path received
  originatorId: 10.0.0.10
  clusterList:
    list:
    - 10.0.0.43
  lastUpdate:
    epoch: 1762548319
    string: Fri Nov  7 20:45:19 2025
  nexthops:
  - ip: 10.0.0.10
    hostname: rr2
    afi: ipv4
    metric: 10
    accessible: true
    used: true
  peer:
    peerId: 10.0.0.2
    routerId: 10.0.0.2
    hostname: rr2
    type: internal


[FAIL]         16 tests completed, 12 tests failed
